
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Programming Framework &#8212; OpenDP</title>
<script>
  document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
  document.documentElement.dataset.theme = localStorage.getItem("theme") || "light"
</script>

  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=92025949c220c2e29695" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=92025949c220c2e29695" rel="stylesheet">


  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />

  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Core Structures" href="core-structures.html" />
    <link rel="prev" title="Getting Started" href="getting-started.html" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="docsearch:language" content="None">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">
    <div class="bd-header-announcement container-fluid" id="banner">
      

    </div>

    
    <nav class="bd-header navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="bd-header__inner container-xl">

  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../index.html">
  
  
  
  
    <img src="../_static/opendp-logo.png" class="logo__image only-light" alt="Logo image">
    <img src="../_static/opendp-logo.png" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="fas fa-bars"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../quickstart.html">
  Quickstart
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="index.html">
  User Guide
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../examples.html">
  Examples
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../api/index.html">
  API
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../more.html">
  More…
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../contact.html">
  Contact
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <span id="theme-switch" class="btn btn-sm btn-outline-primary navbar-btn rounded-circle">
    <a class="theme-switch" data-mode="light"><i class="fas fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="far fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fas fa-adjust"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/opendp" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/opendp_org" rel="noopener" target="_blank" title="Twitter"><span><i class="fab fa-twitter-square"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/opendp/opendp/discussions" rel="noopener" target="_blank" title="GitHub Discussions"><span><i class="far fa-comments"></i></span>
            <label class="sr-only">GitHub Discussions</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="bd-container container-xl">
      <div class="bd-container__inner row">
          

<!-- Only show if we have sidebars configured, else just a small margin  -->
<div class="bd-sidebar-primary col-12 col-md-3 bd-sidebar">
  <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="intro.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="limitations.html">
   Limitations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="getting-started.html">
   Getting Started
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Programming Framework
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="core-structures.html">
   Core Structures
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="supporting-elements.html">
   Supporting Elements
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="combinator-constructors.html">
   Combinator Constructors
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="transformation-constructors.html">
   Transformation Constructors
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="measurement-constructors.html">
   Measurement Constructors
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="application-structure.html">
   Application Structure
  </a>
 </li>
</ul>

  </div>
</nav>
<h6>Branches</h6>
<ul>
    <li><a href="../../latest/user/programming-framework.html" style="font-weight: normal">latest</a></li>
    <li><a href="programming-framework.html" style="font-weight: bold">stable</a></li>
</ul>


<h6 id="releases_header">Releases
    <div id="releases_symbol" style="float:right"></div>
</h6>
<ul id="releases_content">
    <li><a href="../../v0.4.0/user/programming-framework.html" style="font-weight: normal">v0.4.0</a></li>
    <li><a href="../../v0.4.0-rc.4/user/programming-framework.html" style="font-weight: normal">v0.4.0-rc.4</a></li>
    <li><a href="../../v0.4.0-rc.3/user/programming-framework.html" style="font-weight: normal">v0.4.0-rc.3</a></li>
    <li><a href="../../v0.4.0-rc.2/user/programming-framework.html" style="font-weight: normal">v0.4.0-rc.2</a></li>
    <li><a href="../../v0.4.0-rc.1/user/programming-framework.html" style="font-weight: normal">v0.4.0-rc.1</a></li>
    <li><a href="../../v0.3.0/user/programming-framework.html" style="font-weight: normal">v0.3.0</a></li>
    <li><a href="../../v0.3.0-rc.3/user/programming-framework.html" style="font-weight: normal">v0.3.0-rc.3</a></li>
    <li><a href="../../v0.3.0-rc.2/user/programming-framework.html" style="font-weight: normal">v0.3.0-rc.2</a></li>
    <li><a href="../../v0.3.0-rc.1/user/programming-framework.html" style="font-weight: normal">v0.3.0-rc.1</a></li>
    <li><a href="../../v0.2.4/user/programming-framework.html" style="font-weight: normal">v0.2.4</a></li>
    <li><a href="../../v0.2.3/user/programming-framework.html" style="font-weight: normal">v0.2.3</a></li>
    <li><a href="../../v0.2.2/user/programming-framework.html" style="font-weight: normal">v0.2.2</a></li>
    <li><a href="../../v0.2.2-rc.1/user/programming-framework.html" style="font-weight: normal">v0.2.2-rc.1</a></li>
    <li><a href="../../v0.2.1/user/programming-framework.html" style="font-weight: normal">v0.2.1</a></li>
    <li><a href="../../v0.2.1-rc.1/user/programming-framework.html" style="font-weight: normal">v0.2.1-rc.1</a></li>
    <li><a href="../../v0.2.0-rc1/user/programming-framework.html" style="font-weight: normal">v0.2.0-rc1</a></li>
    <li><a href="../../v0.2.0/user/programming-framework.html" style="font-weight: normal">v0.2.0</a></li>
    <li><a href="../../v0.2.0-rc.6/user/programming-framework.html" style="font-weight: normal">v0.2.0-rc.6</a></li>
    <li><a href="../../v0.2.0-rc.5/user/programming-framework.html" style="font-weight: normal">v0.2.0-rc.5</a></li>
    <li><a href="../../v0.2.0-rc.4/user/programming-framework.html" style="font-weight: normal">v0.2.0-rc.4</a></li>
    <li><a href="../../v0.2.0-rc.3/user/programming-framework.html" style="font-weight: normal">v0.2.0-rc.3</a></li>
    <li><a href="../../v0.2.0-rc.2/user/programming-framework.html" style="font-weight: normal">v0.2.0-rc.2</a></li>
    <li><a href="../../v0.1.0/index.html" style="font-weight: normal">v0.1.0</a></li>
    <li><a href="../../v0.1.0-rc.8/index.html" style="font-weight: normal">v0.1.0-rc.8</a></li>
    <li><a href="../../v0.1.0-rc.7/index.html" style="font-weight: normal">v0.1.0-rc.7</a></li>
    <li><a href="../../v0.1.0-rc.6/index.html" style="font-weight: normal">v0.1.0-rc.6</a></li>
    <li><a href="../../v0.1.0-rc.5/index.html" style="font-weight: normal">v0.1.0-rc.5</a></li>
    <li><a href="../../v0.1.0-rc.4/index.html" style="font-weight: normal">v0.1.0-rc.4</a></li>
    <li><a href="../../v0.1.0-rc.3/index.html" style="font-weight: normal">v0.1.0-rc.3</a></li>
    <li><a href="../../v0.1.0-rc.2/index.html" style="font-weight: normal">v0.1.0-rc.2</a></li>
    <li><a href="../../v0.1.0-rc.1/index.html" style="font-weight: normal">v0.1.0-rc.1</a></li>
</ul>
<script>
    let expanded = !!JSON.parse(localStorage.getItem('expanded'));

    let releasesHeader = document.getElementById("releases_header");
    let releasesSymbol = document.getElementById("releases_symbol");
    let releasesContent = document.getElementById("releases_content");

    function setReleasesState() {
        localStorage.setItem("expanded", JSON.stringify(expanded))
        releasesContent.style.display = expanded ? "block" : "none";
        releasesSymbol.classList.add(expanded ? 'minus' : 'plus')
        releasesSymbol.classList.remove(expanded ? 'plus' : 'minus')
    }

    setReleasesState()
    releasesHeader.addEventListener("click", function() {
        expanded = !expanded;
        setReleasesState()
    })
</script>
<style>
    .plus {
        position: relative;
        width:20px;
        height:20px;
        background:#676767;
    }

    .plus:before,
    .plus:after {
        content: "";
        position:absolute;
        background:#fff;
    }

    .plus:before {
        left:50%;
        top:4px;
        bottom:4px;
        width:3px;
        transform:translateX(-50%);
    }

    .plus:after {
        top:50%;
        left:4px;
        right:4px;
        height:3px;
        transform:translateY(-50%);
    }



    .minus {
        position: relative;
        width:20px;
        height:20px;
        background:#676767;
    }

    .minus:before,
    .minus:after {
        content: "";
        position:absolute;
        background:#fff;
    }

    .minus:after {
        top:50%;
        left:4px;
        right:4px;
        height:3px;
        transform:translateY(-50%);
    }
</style>

  </div>
  <div class="sidebar-end-items">
  </div>
</div>


          


<div class="bd-sidebar-secondary d-none d-xl-block col-xl-2 bd-toc">
  
    
    <div class="toc-item">
      
<div class="tocsection onthispage mt-5 pt-1 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#summary">
   Summary
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#key-points">
   Key Points
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#implementation-differences">
   Implementation Differences
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#interactive-measurements">
     Interactive Measurements
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#row-transforms">
     Row Transforms
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#applying-the-concepts">
     Applying the Concepts
    </a>
   </li>
  </ul>
 </li>
</ul>

</nav>
    </div>
    
    <div class="toc-item">
      
    </div>
    
  
</div>


          
          
          <div class="bd-content col-12 col-md-9 col-xl-7">
              
              <article class="bd-article" role="main">
                
  <section id="programming-framework">
<h1>Programming Framework<a class="headerlink" href="#programming-framework" title="Permalink to this headline">#</a></h1>
<p>OpenDP is based on a conceptual model that defines the characteristics of privacy-preserving operations and provides a way for components to be assembled into programs with desired behavior. This model, known as the OpenDP Programming Framework, is described in the paper <a class="reference external" href="https://projects.iq.harvard.edu/files/opendp/files/opendp_programming_framework_11may2020_1_01.pdf">A Programming Framework for OpenDP</a>. The framework is designed with a clear and verifiable means of capturing the sensitive aspects of an algorithm, while remaining highly flexible and extensible. OpenDP (the software library) is intended to be a faithful implementation of that approach. Because OpenDP is based on a well-defined model, users can create applications with rigorous privacy properties.</p>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">#</a></h2>
<p>The OpenDP Programming Framework consists of a set of high-level conceptual elements. We’ll cover the highlights here, which should be enough for you to get acquainted with OpenDP programming. If you’re interested in more of the details and motivations behind the framework, you’re encouraged to read <a class="reference external" href="https://projects.iq.harvard.edu/files/opendp/files/opendp_programming_framework_11may2020_1_01.pdf">the paper</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In this section, we’ve used lower case when writing the names of OpenDP concepts. Later, when we talk about <a class="reference internal" href="core-structures.html"><span class="doc">programming elements</span></a>, we’ll use the capitalized form to refer to the concrete data types that implement these concepts. (The concept names link to their corresponding type descriptions.)</p>
</div>
<ul>
<li><p><a class="reference internal" href="core-structures.html#measurement"><span class="std std-ref">Measurements</span></a> are randomized mappings from a dataset to an arbitrary output value. They are a controlled means of introducing privacy (e.g. noise) to a computation. An example of a measurement is one which applies Laplace noise to a value.</p></li>
<li><p><a class="reference internal" href="core-structures.html#transformation"><span class="std std-ref">Transformations</span></a> are deterministic mappings from a dataset to another dataset. They are used to summarize or transform values in some way. An example of a transformation is one which calculates the mean of a set of values.</p></li>
<li><p><a class="reference internal" href="supporting-elements.html#domains"><span class="std std-ref">Domains</span></a> are sets which identify the possible values that some object can take. They are used to constrain the input or output of measurements and transformations. Examples of domains are the integers between 1 and 10, or vectors of length 5 containing floating point numbers.</p></li>
<li><p><a class="reference internal" href="supporting-elements.html#measures"><span class="std std-ref">Measures</span></a> and <a class="reference internal" href="supporting-elements.html#metrics"><span class="std std-ref">metrics</span></a> are things that specify distances between two mathematical objects.</p>
<ul class="simple">
<li><p>Measures characterize the distance between two probability distributions. An example measure is the “max-divergence” of pure differential privacy.</p></li>
<li><p>Metrics capture the distance between two neighboring datasets. An example metric is “symmetric distance” (counting the number of elements changed).</p></li>
</ul>
</li>
<li><p><a class="reference internal" href="supporting-elements.html#relations"><span class="std std-ref">Privacy relations and stability relations</span></a> are boolean functions which characterize the notion “closeness” of operation inputs and outputs. They are the glue that binds everything together.</p>
<ul class="simple">
<li><p>A privacy relation is a statement about a measurement. It’s a boolean function of two values, an input distance (in a specific metric) and an output distance (in a specific measure). A privacy relation lets you make assertions about a measurement when the measurement is evaluated on any pairs of neighboring datasets. If the privacy relation is true, it’s guaranteed that any pair of measurement inputs within the input distance will always produce a pair of transformation outputs within the output distance.</p></li>
<li><p>A stability relation is a statement about a transformation. It’s also a boolean function of two values, an input distance (in a specific metric) and an output distance (in a specific metric, possibly different from the input metric). A stability relation lets you make assertions about the behavior of a transformation when that transformation is evaluated on any pairs of neighboring datasets. If the stability relation is true, it is a guarantee that any pair of transformation inputs within the input distance will always produce transformation outputs within the output distance.</p></li>
</ul>
<p>Relations capture the notion of closeness in a very general way, allowing the extension of OpenDP to different definitions of privacy.</p>
</li>
</ul>
<p>As you can see, these elements are interdependent and support each other. The interaction of these elements is what gives the OpenDP Programming Framework its flexibility and expressiveness.</p>
</section>
<section id="key-points">
<h2>Key Points<a class="headerlink" href="#key-points" title="Permalink to this headline">#</a></h2>
<p>You don’t need to know all the details of the Programming Framework to write OpenDP applications, but it helps understand some of the key points:</p>
<ul class="simple">
<li><p>OpenDP calculations are built by assembling a measurement from a number of constituent transformations and measurements, typically through chaining or composition.</p></li>
<li><p>Measurements don’t have a static privacy loss specified when constructing the measurement. Instead, measurements are typically constructed by specifying the scale of noise, and the loss is bounded by the resulting privacy relation. This requires some extra work compared to specifying the loss directly, but OpenDP provides some utilities to make this easier on the programmer, and the benefit is greatly increased flexibility of the framework as a whole.</p></li>
</ul>
</section>
<section id="implementation-differences">
<h2>Implementation Differences<a class="headerlink" href="#implementation-differences" title="Permalink to this headline">#</a></h2>
<p>As a work in progress, it’s important to note that OpenDP doesn’t yet implement all the details of the Programming Framework.</p>
<section id="interactive-measurements">
<h3>Interactive Measurements<a class="headerlink" href="#interactive-measurements" title="Permalink to this headline">#</a></h3>
<p>An important aspect of the Programming Framework is the flexible way that it models interactive measurements. These are measurements where the operation isn’t a static function, but instead captures a series of queries and responses, where the sequence is possibly determined dynamically. This is a very flexible model of computation, and can be used to capture notions such as adaptive composition.</p>
<p>Unfortunately, OpenDP doesn’t yet implement interactive measurements, and is limited to plain (non-interactive) measurements. We know this is important functionality, and are in the process of prototyping an implementation, but unfortunately it’ll take some time before it’s ready for use.</p>
</section>
<section id="row-transforms">
<h3>Row Transforms<a class="headerlink" href="#row-transforms" title="Permalink to this headline">#</a></h3>
<p>Row transforms are a way of applying a user-defined function to each of the elements of a dataset. This concept can be used to construct transformations for operations that aren’t provided “out of the box” by OpenDP. Unfortunately, supporting row transforms has some privacy limitations around pure functions and also requires some tricky technical work, so these aren’t yet implemented in OpenDP.</p>
</section>
<section id="applying-the-concepts">
<h3>Applying the Concepts<a class="headerlink" href="#applying-the-concepts" title="Permalink to this headline">#</a></h3>
<p>This is just a glance at the abstract concepts in the OpenDP Programming Framework. The following sections of this guide describe the actual software components in OpenDP implementing these concepts, and how they can be used in your programs.</p>
</section>
</section>
</section>


              </article>
              

              
              <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="getting-started.html" title="previous page">
      <i class="fas fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title">Getting Started</p>
      </div>
  </a>
  <a class='right-next' id="next-link" href="core-structures.html" title="next page">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">next</p>
      <p class="prev-next-title">Core Structures</p>
  </div>
  <i class="fas fa-angle-right"></i>
  </a>
</div>
              </footer>
              
          </div>
          
      </div>
    </div>

  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695"></script>

<footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    <p class="copyright">
    &copy; Copyright 2022.<br>
</p>
  </div>
  
  <div class="footer-item">
    <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.1.2.<br>
</p>
  </div>
  
</div>
</footer>
  </body>
</html>